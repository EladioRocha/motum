function getControlHrmlContent() {
    return `<div class="controlbox-container">
                <div class="controlbox origin mt-1em">
                    <div id="boxcontainer" class="searchbox searchbox-shadow"> 
                        <div class="searchbox-menu-container">
                            <button aria-label="Menu" class="origin-icon searchbox-menubutton"></button> 
                        </div>
                        <div>
                            <input id="searchboxinput-origin" class="txt-gray searchinput-place" placeholder="¿Dónde estás ubicado?" type="text" style="position: relative;">
                        </div>
                        <!-- <div class="searchbox-searchbutton-container">
                            <button aria-label="search" id="searchbox-searchbutton-origin" class="searchbox-searchbutton"></button>
                        </div> --!>
                    </div>
                </div>
                <div class="controlbox destiny mt-1em" style="top: 48px; z-index: -1;" id="item-1">
                    <div id="boxcontainer" class="searchbox searchbox-shadow"> 
                        <div class="searchbox-menu-container">
                            <button aria-label="Menu" class="destiny-icon searchbox-menubutton"></button> 
                        </div>
                        <div>
                            <input id="searchboxinput-destiny" class="txt-gray searchinput-place" placeholder="¿A dónde te diriges?" type="text" style="position: relative;">
                        </div>
                        <!--
                        <div class="searchbox-searchbutton-container">
                            <button aria-label="search" id="searchbox-searchbutton-destiny" class="searchbox-searchbutton"></button>
                        </div> --!>
                    </div>
                </div>
                <div class="controlbox date mt-1em" style="top: 96px; z-index: -2;" id="item-2">
                    <div id="boxcontainer" class="searchbox searchbox-shadow"> 
                        <div class="searchbox-menu-container">
                            <button aria-label="Menu" class="date-icon searchbox-menubutton"></button> 
                        </div>
                        <div>
                            <button class="txt-gray searchinput-place collapsible collapsible-date" style="position: relative; cursor:pointer; display:flex; justify-content:start;">Elige uan fecha</button>
                        </div>
                        <!--
                        <div class="searchbox-searchbutton-container">
                            <button aria-label="search" id="searchbox-searchbutton-destiny" class="searchbox-searchbutton"></button>
                        </div> --!>
                    </div>
                </div>
               <div class="controlbox controlbox-content reserve mt-1em" style="top: 144px; z-index: -2; display:none;" id="item-2">
                    <div id="boxcontainer" class="searchbox searchbox-shadow bg-gray"> 
                        <div class="searchbox-menu-container">
                            <button aria-label="Menu" id="searchbox-menubutton" class="exchange-icon searchbox-menubutton"></button> 
                        </div>
                        <div class="date-reserve">
                            <div class="controlbox-input-checkbox">
                                <input class="inp-cbx" selected id="now" type="radio"  name="exchange" style="display: none;" /><label class="cbx" for="now"><span><svg width="12px" height="10px" viewbox="0 0 12 10"><polyline points="1.5 6 4.5 9 10.5 1"></polyline></svg></span><span>Ahora</span></label>
                                <input class="inp-cbx" id="reserve" type="radio" name="exchange" style="display: none;" /><label class="cbx" for="reserve"><span><svg width="12px" height="10px" viewbox="0 0 12 10"><polyline points="1.5 6 4.5 9 10.5 1"></polyline></svg></span><span>Reservar</span></label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlbox controlbox-content mt-1em" style="top: 192px; z-index: -4;display:none;">
                    <div id="boxcontainer" class="searchbox searchbox-shadow bg-gray"> 
                        <div class="searchbox-menu-container">
                            <button aria-label="Menu" id="searchbox-menubutton" class="clock-icon searchbox-menubutton"></button> 
                        </div>
                        <div class="date-reserve">
                            <div class="controlbox-input-checkbox">
                                <input type='text' class='datepicker-here' autocomplete="off" id="datepicker" placeholder="¿Qué día?">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="controlbox mt-1em controlbox-content controlbox-reserve" style="z-index: -5;top: 258px; height:60px; background: white; display:none">
                    <div id="boxcontainer" class="searchbox searchbox-shadow" style="display:flex; justify-content:center;"> 
                        <div class="controlbox-input">
                            <input class="btn bg-green txt-white txt-1-dot-2em" id="searchboxinput" value="Pedir viaje" type="button" style="position: relative;">
                        </div>
                    </div>
                </div>
            </div>`
}

function createSearchboxControl() {
    return L.Control.extend({
        options: {
            position: "topleft"
        },
        onAdd: function() {
            let div = L.DomUtil.create("div");
            div.id = "controlcontainer";
            let valueInput = this._searchfunctionCallBack;

            div.innerHTML = getControlHrmlContent()
            // setTimeout(function() {
            //     document.querySelector("#searchbox-searchbutton-origin").addEventListener('click', function() {
            //         valueInput(document.querySelector("#searchboxinput-origin").value)
            //     });
            //     document.querySelector("#searchbox-searchbutton-destiny").addEventListener('click', function() {
            //         valueInput(document.querySelector("#searchboxinput-destiny").value)
            //     });
            // }, 1);
            L.DomEvent.disableClickPropagation(div);
            return div
        }
    })
};